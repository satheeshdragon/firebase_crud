(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(52)},31:function(e,t,a){},33:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),i=a.n(r),s=a(56),c=a(55),o=(a(29),a(31),a(4)),p=a(5),m=a(7),u=a(6),d=a(8),h=a(54),f=(a(33),a(15));a(47),a(48);f.initializeApp({apiKey:"AIzaSyDpNG2sDe3w-Lw39XGXNoNORW3v5kUbcTM",authDomain:"reactsample-85097.firebaseapp.com",databaseURL:"https://reactsample-85097.firebaseio.com",projectId:"reactsample-85097",storageBucket:"reactsample-85097.appspot.com"});var g=f.storage();f.firestore().settings({timestampsInSnapshots:!0});var b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onCollectionUpdate=function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.snippet_name,l=a.snippet_description,r=a.image_url;t.push({key:e.id,doc:e,snippet_name:n,snippet_description:l,image_url:r})}),a.setState({snippet:t})},a.onCollectionUpdate_upload=function(e){var t=[];e.forEach(function(e){var a=e.data(),n=a.folder_name,l=a.snippet_name;t.push({key:e.id,doc:e,folder_name:n,snippet_name:l})}),console.log(t),a.setState({upload:t}),console.log(a.state)},a.ref=f.firestore().collection("snippet"),a.ref_upload=f.firestore().collection("files"),a.unsubscribe=null,a.unsubscribe_upload=null,a.state={snippet:[],upload:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.unsubscribe_upload=this.ref_upload.onSnapshot(this.onCollectionUpdate_upload)}},{key:"delete",value:function(e){var t=this;f.firestore().collection("snippet").doc(e).delete().then(function(){console.log("Document successfully deleted!"),t.props.history.push("/")}).catch(function(e){console.error("Error removing document: ",e)})}},{key:"view",value:function(e){f.firestore().collection("snippet").doc(this.props.match.params.id).get().then(function(e){if(e.exists)e.data();else console.log("No such document!")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h3",{class:"panel-title text-center"},"BOARD LIST")),l.a.createElement("div",{class:"panel-body text-center"},l.a.createElement("h4",null,l.a.createElement(h.a,{to:"/create",class:"btn btn-primary"},"Add Board")," \xa0"),l.a.createElement("table",{class:"table table-stripe"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"File.Set.name"),l.a.createElement("th",null,"Folder.name"))),l.a.createElement("tbody",null,this.state.snippet.map(function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,t.snippet_name),l.a.createElement("td",null,t.snippet_description),l.a.createElement("td",null,l.a.createElement(h.a,{to:"/edit/".concat(t.key),class:"btn btn-primary"},"Edit ")," \xa0",l.a.createElement("button",{onClick:e.delete.bind(e,t.key),class:"btn btn-danger"},"Delete")," \xa0",l.a.createElement("button",{onClick:"",class:"btn btn-info"},"View")))}))))),l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h3",{class:"panel-title text-center"},"Upload Datas")),l.a.createElement("div",{class:"panel-body text-center"},l.a.createElement("h4",null,l.a.createElement(h.a,{to:"/mulimage",class:"btn btn-primary"},"File Upload")),l.a.createElement("table",{class:"table table-stripe"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Snippet.Name"),l.a.createElement("th",null,"Snippet.Description"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,this.state.upload.map(function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,t.snippet_name),l.a.createElement("td",null,t.folder_name),l.a.createElement("td",null,l.a.createElement(h.a,{to:"/edit/".concat(t.key),class:"btn btn-primary"},"Edit ")," \xa0",l.a.createElement("button",{onClick:e.delete.bind(e,t.key),class:"btn btn-danger"},"Delete")," \xa0",l.a.createElement("button",{onClick:e.delete.bind(e,t.key),class:"btn btn-info"},"View")))}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=a.state;t[e.target.name]=e.target.value,a.setState({snippet:t})},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.snippet_name,l=t.snippet_description,r=t.image_url;f.firestore().collection("snippet").doc(a.state.key).set({snippet_name:n,snippet_description:l,image_url:r}).then(function(e){a.setState({key:"",snippet_name:"",snippet_description:"",image_url:""}),a.props.history.push("/show/"+a.props.match.params.id)}).catch(function(e){console.error("Error adding document: ",e)})},a.state={key:"",snippet_name:"",snippet_description:"",image_url:""},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.firestore().collection("snippet").doc(this.props.match.params.id).get().then(function(t){if(t.exists){var a=t.data();e.setState({key:t.id,snippet_name:a.snippet_name,snippet_description:a.snippet_description,image_url:a.image_url})}else console.log("No such document!")})}},{key:"render",value:function(){return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h3",{class:"panel-title text-center"},"EDIT snippet")),l.a.createElement("div",{class:"panel-body"},l.a.createElement("h4",{class:"text-center"},l.a.createElement(h.a,{to:"/",class:"btn btn-primary"},"Board List")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"title"},"Title:"),l.a.createElement("input",{type:"text",class:"form-control",name:"snippet_name",value:this.state.snippet_name,onChange:this.onChange,placeholder:"Title"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"description"},"Description:"),l.a.createElement("input",{type:"text",class:"form-control",name:"snippet_description",value:this.state.snippet_description,onChange:this.onChange,placeholder:"Description"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"author"},"Author:"),l.a.createElement("input",{type:"text",class:"form-control",name:"image_url",value:this.state.image_url,onChange:this.onChange,placeholder:"Author"})),l.a.createElement("button",{type:"submit",class:"btn btn-success"},"Submit")))))}}]),t}(n.Component),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a)},e.handleChange=function(t){if(t.target.files[0]){var a;a=t.target.files,e.setState(function(){return{image:a}})}},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.snippet_name,l=a.snippet_description,r=a.image_url;e.ref.add({snippet_name:n,snippet_description:l,image_url:r}).then(function(t){e.setState({snippet_name:"",snippet_description:"",image_url:""}),e.props.history.push("/")}).catch(function(e){console.error("Error adding document: ",e)})},e.ref=f.firestore().collection("snippet"),e.state={snippet_name:"",snippet_description:"",image_url:"",image:null,url:"",progress:0,files:""},e}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.snippet_name,a=e.snippet_description,n=e.image_url;return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h3",{class:"panel-title text-center"},"ADD BOARD")),l.a.createElement("div",{class:"panel-body "},l.a.createElement("h4",{class:"text-center"},l.a.createElement(h.a,{to:"/",class:"btn btn-primary"},"Book List")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"title"},"Snippet Name:"),l.a.createElement("input",{type:"text",class:"form-control",name:"snippet_name",value:t,onChange:this.onChange,placeholder:"Name.."})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"description"},"Snippet Description:"),l.a.createElement("textArea",{class:"form-control",name:"snippet_description",onChange:this.onChange,placeholder:"Description",cols:"80",rows:"3"},a)),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"author"},"Snippet Image:"),l.a.createElement("input",{type:"text",class:"form-control",name:"image_url",value:n,onChange:this.onChange,placeholder:"url..."})),l.a.createElement("button",{type:"submit",class:"btn btn-success"},"Submit")))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={snippet:{},key:""},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.firestore().collection("snippet").doc(this.props.match.params.id).get().then(function(t){t.exists?e.setState({snippet:t.data(),key:t.id,isLoading:!1}):console.log("No such document!")})}},{key:"delete",value:function(e){var t=this;f.firestore().collection("boards").doc(e).delete().then(function(){console.log("Document successfully deleted!"),t.props.history.push("/")}).catch(function(e){console.error("Error removing document: ",e)})}},{key:"render",value:function(){return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading text-center"},l.a.createElement("h4",{class:"text-center"},l.a.createElement(h.a,{to:"/"},"Board List")),l.a.createElement("h3",{class:"panel-title"},this.state.snippet.snippet_name)),l.a.createElement("div",{class:"panel-body"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Description:"),l.a.createElement("dd",null,this.state.snippet.snippet_description),l.a.createElement("dt",null,"Author:"),l.a.createElement("dd",null,this.state.snippet.image_url)),l.a.createElement(h.a,{to:"/edit/".concat(this.state.key),class:"btn btn-success"},"Edit"),"\xa0",l.a.createElement("button",{onClick:this.delete.bind(this,this.state.key),class:"btn btn-danger"},"Delete"))))}}]),t}(n.Component),y=a(9),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){if(e.target.files[0]){var t;t=e.target.files,a.setState(function(){return{image:t}})}},a.handleUpload=function(){var e=a.state.image;console.log(e);for(var t=0;t>=e.length;t++)console.log(e[t]);g.ref("images/".concat(e.name)).put(e).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})},function(e){console.log(e)},function(){g.ref("images").child(e.name).getDownloadURL().then(function(e){console.log(e),a.setState({url:e})})})},a.state={image:null,url:"",progress:0},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleUpload=a.handleUpload.bind(Object(y.a)(Object(y.a)(a))),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},l.a.createElement("progress",{value:this.state.progress,max:"100"}),l.a.createElement("br",null),l.a.createElement("input",{type:"file",onChange:this.handleChange,multiple:!0}),l.a.createElement("button",{onClick:this.handleUpload},"Upload"),l.a.createElement("br",null),l.a.createElement("img",{src:this.state.url||"http://via.placeholder.com/400x300",alt:"Uploaded images",height:"300",width:"400"}))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){if(e.target.files[0]){var t;t=e.target.files,a.setState(function(){return{image:t}})}},a.onChange=function(e){var t=a.state;t[e.target.name]=e.target.value,a.setState(t)},a.handleUpload=function(e){e.preventDefault();var t=a.state.image,n=a.state.snippet_name,l=n.replace(/\s+/g,"_"),r=new Date,i=r.getDate(),s=r.getMonth()+1,c=r.getFullYear();i<10&&(i="0"+i),s<10&&(s="0"+s),r=i+"_"+s+"_"+c+"_"+l,console.log(r);var o=r;if(a.ref.add({snippet_name:n,folder_name:o}).then(function(e){a.setState({snippet_name:"",folder_name:""}),a.props.history.push("/mulimage")}),t)for(var p=0;p<t.length;p++)g.ref("snippet/file_1_".concat(r,"/").concat(t[p].name)).put(t[p]).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})},function(e){console.log(e)})},a.ref=f.firestore().collection("files"),a.state={image:null,url:"",progress:0,files:"",snippet_name:"",folder_name:""},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a.handleUpload=a.handleUpload.bind(Object(y.a)(Object(y.a)(a))),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.snippet_name;return l.a.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},l.a.createElement(h.a,{to:"/",class:"btn btn-primary"},"Board"),l.a.createElement("h3",{class:"panel-title text-center"},"UPLOAD CENTER"),l.a.createElement("progress",{value:this.state.progress,max:"100"}),l.a.createElement("br",null),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"title",class:"text-center"},"Index Name:"),l.a.createElement("input",{type:"text",class:"form-control",name:"snippet_name",value:e,onChange:this.onChange,placeholder:"Name.."})),l.a.createElement("div",{class:"form-group"},l.a.createElement("input",{class:"btn btn-info",type:"file",onChange:this.handleChange,multiple:!0})),l.a.createElement("button",{class:"btn btn-success",onClick:this.handleUpload},"Upload"))}}]),t}(n.Component);i.a.render(l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(c.a,{exact:!0,path:"/",component:b}),l.a.createElement(c.a,{path:"/edit/:id",component:E}),l.a.createElement(c.a,{path:"/create",component:v}),l.a.createElement(c.a,{path:"/show/:id",component:_}),l.a.createElement(c.a,{path:"/image",component:C}),l.a.createElement(c.a,{path:"/mulimage",component:O}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.710ea010.chunk.js.map